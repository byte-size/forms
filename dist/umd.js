!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).bsForms=e()}(this,(function(){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var t=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){t.exports=function(){var t="__v-click-outside",e="undefined"!=typeof window,n="undefined"!=typeof navigator,r=e&&("ontouchstart"in window||n&&navigator.msMaxTouchPoints>0)?["touchstart"]:["click"];function a(e,n){var a=function(t){var e="function"==typeof t;if(!e&&"object"!=typeof t)throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:e?t:t.handler,middleware:t.middleware||function(t){return t},events:t.events||r,isActive:!(!1===t.isActive)}}(n.value),i=a.handler,o=a.middleware;a.isActive&&(e[t]=a.events.map((function(t){return{event:t,handler:function(t){return function(t){var e=t.el,n=t.event,r=t.handler,a=t.middleware,i=n.path||n.composedPath&&n.composedPath(),o=i?i.indexOf(e)<0:!e.contains(n.target);n.target!==e&&o&&a(n)&&r(n)}({event:t,el:e,handler:i,middleware:o})}}})),e[t].forEach((function(n){var r=n.event,a=n.handler;return setTimeout((function(){e[t]&&document.documentElement.addEventListener(r,a,!1)}),0)})))}function i(e){(e[t]||[]).forEach((function(t){return document.documentElement.removeEventListener(t.event,t.handler,!1)})),delete e[t]}var o=e?{bind:a,update:function(t,e){var n=e.value,r=e.oldValue;JSON.stringify(n)!==JSON.stringify(r)&&(i(t),a(t,{value:n}))},unbind:i}:{};return{install:function(t){t.directive("click-outside",o)},directive:o}}()}));function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){a=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var n=/^(?:submit|button|image|reset|file)$/i,r=/^(?:input|select|textarea|keygen)/i,a=/(\[[^\[\]]*\])/g;function i(t,e,n){if(e.match(a)){!function t(e,n,r){if(0===n.length)return e=r;var a=n.shift(),i=a.match(/^\[(.+?)\]$/);if("[]"===a)return e=e||[],Array.isArray(e)?e.push(t(null,n,r)):(e._values=e._values||[],e._values.push(t(null,n,r))),e;if(i){var o=i[1],u=+o;isNaN(u)?(e=e||{})[o]=t(e[o],n,r):(e=e||[])[u]=t(e[u],n,r)}else e[a]=t(e[a],n,r);return e}(t,function(t){var e=[],n=new RegExp(a),r=/^([^\[\]]*)/.exec(t);for(r[1]&&e.push(r[1]);null!==(r=n.exec(t));)e.push(r[1]);return e}(e),n)}else{var r=t[e];r?(Array.isArray(r)||(t[e]=[r]),t[e].push(n)):t[e]=n}return t}function o(t,e,n){return n=n.replace(/(\r)?\n/g,"\r\n"),n=(n=encodeURIComponent(n)).replace(/%20/g,"+"),t+(t?"&":"")+encodeURIComponent(e)+"="+n}var u=function(t,e){"object"!=typeof e?e={hash:!!e}:void 0===e.hash&&(e.hash=!0);for(var a=e.hash?{}:"",u=e.serializer||(e.hash?i:o),c=t&&t.elements?t.elements:[],s=Object.create(null),f=0;f<c.length;++f){var l=c[f];if((e.disabled||!l.disabled)&&l.name&&(r.test(l.nodeName)&&!n.test(l.type))){var d=l.name,p=l.value;if("checkbox"!==l.type&&"radio"!==l.type||l.checked||(p=void 0),e.empty){if("checkbox"!==l.type||l.checked||(p=""),"radio"===l.type&&(s[l.name]||l.checked?l.checked&&(s[l.name]=!0):s[l.name]=!1),null==p&&"radio"==l.type)continue}else if(!p)continue;if("select-multiple"!==l.type)a=u(a,d,p);else{p=[];for(var v=l.options,y=!1,h=0;h<v.length;++h){var b=v[h],m=e.empty&&!b.value,g=b.value||m;b.selected&&g&&(y=!0,a=e.hash&&"[]"!==d.slice(d.length-2)?u(a,d+"[]",b.value):u(a,d,b.value))}!y&&e.empty&&(a=u(a,d,""))}}}if(e.empty)for(var d in s)s[d]||(a=u(a,d,""));return a},c=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],s=c.join(","),f="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function l(t,e){e=e||{};var n,r,a,i=[],o=[],u=t.querySelectorAll(s);for(e.includeContainer&&f.call(t,s)&&(u=Array.prototype.slice.apply(u)).unshift(t),n=0;n<u.length;n++)d(r=u[n])&&(0===(a=y(r))?i.push(r):o.push({documentOrder:n,tabIndex:a,node:r}));return o.sort(h).map((function(t){return t.node})).concat(i)}function d(t){return!(!p(t)||function(t){return function(t){return b(t)&&"radio"===t.type}(t)&&!function(t){if(!t.name)return!0;var e=function(t){for(var e=0;e<t.length;e++)if(t[e].checked)return t[e]}(t.ownerDocument.querySelectorAll('input[type="radio"][name="'+t.name+'"]'));return!e||e===t}(t)}(t)||y(t)<0)}function p(t){return!(t.disabled||function(t){return b(t)&&"hidden"===t.type}(t)||function(t){return null===t.offsetParent||"hidden"===getComputedStyle(t).visibility}(t))}l.isTabbable=function(t){if(!t)throw new Error("No node provided");return!1!==f.call(t,s)&&d(t)},l.isFocusable=function(t){if(!t)throw new Error("No node provided");return!1!==f.call(t,v)&&p(t)};var v=c.concat("iframe").join(",");function y(t){var e=parseInt(t.getAttribute("tabindex"),10);return isNaN(e)?function(t){return"true"===t.contentEditable}(t)?0:t.tabIndex:e}function h(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex}function b(t){return"INPUT"===t.tagName}var m,g=l,k=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)w.call(n,r)&&(t[r]=n[r])}return t},w=Object.prototype.hasOwnProperty;var j,A=(j=[],{activateTrap:function(t){if(j.length>0){var e=j[j.length-1];e!==t&&e.pause()}var n=j.indexOf(t);-1===n||j.splice(n,1),j.push(t)},deactivateTrap:function(t){var e=j.indexOf(t);-1!==e&&j.splice(e,1),j.length>0&&j[j.length-1].unpause()}});function O(t){return setTimeout(t,0)}var E=function(t,e){var n=document,r="string"==typeof t?n.querySelector(t):t,a=k({returnFocusOnDeactivate:!0,escapeDeactivates:!0},e),i={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},o={activate:function(t){if(i.active)return;h(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=n.activeElement;var e=t&&t.onActivate?t.onActivate:a.onActivate;e&&e();return c(),o},deactivate:u,pause:function(){if(i.paused||!i.active)return;i.paused=!0,s()},unpause:function(){if(!i.paused||!i.active)return;i.paused=!1,h(),c()}};return o;function u(t){if(i.active){clearTimeout(m),s(),i.active=!1,i.paused=!1,A.deactivateTrap(o);var e=t&&void 0!==t.onDeactivate?t.onDeactivate:a.onDeactivate;return e&&e(),(t&&void 0!==t.returnFocus?t.returnFocus:a.returnFocusOnDeactivate)&&O((function(){var t;b((t=i.nodeFocusedBeforeActivation,f("setReturnFocus")||t))})),o}}function c(){if(i.active)return A.activateTrap(o),m=O((function(){b(l())})),n.addEventListener("focusin",p,!0),n.addEventListener("mousedown",d,{capture:!0,passive:!1}),n.addEventListener("touchstart",d,{capture:!0,passive:!1}),n.addEventListener("click",y,{capture:!0,passive:!1}),n.addEventListener("keydown",v,{capture:!0,passive:!1}),o}function s(){if(i.active)return n.removeEventListener("focusin",p,!0),n.removeEventListener("mousedown",d,!0),n.removeEventListener("touchstart",d,!0),n.removeEventListener("click",y,!0),n.removeEventListener("keydown",v,!0),o}function f(t){var e=a[t],r=e;if(!e)return null;if("string"==typeof e&&!(r=n.querySelector(e)))throw new Error("`"+t+"` refers to no known node");if("function"==typeof e&&!(r=e()))throw new Error("`"+t+"` did not return a node");return r}function l(){var t;if(!(t=null!==f("initialFocus")?f("initialFocus"):r.contains(n.activeElement)?n.activeElement:i.firstTabbableNode||f("fallbackFocus")))throw new Error("Your focus-trap needs to have at least one focusable element");return t}function d(t){r.contains(t.target)||(a.clickOutsideDeactivates?u({returnFocus:!g.isFocusable(t.target)}):a.allowOutsideClick&&a.allowOutsideClick(t)||t.preventDefault())}function p(t){r.contains(t.target)||t.target instanceof Document||(t.stopImmediatePropagation(),b(i.mostRecentlyFocusedNode||l()))}function v(t){if(!1!==a.escapeDeactivates&&function(t){return"Escape"===t.key||"Esc"===t.key||27===t.keyCode}(t))return t.preventDefault(),void u();(function(t){return"Tab"===t.key||9===t.keyCode})(t)&&function(t){if(h(),t.shiftKey&&t.target===i.firstTabbableNode)return t.preventDefault(),void b(i.lastTabbableNode);if(!t.shiftKey&&t.target===i.lastTabbableNode)t.preventDefault(),b(i.firstTabbableNode)}(t)}function y(t){a.clickOutsideDeactivates||r.contains(t.target)||a.allowOutsideClick&&a.allowOutsideClick(t)||(t.preventDefault(),t.stopImmediatePropagation())}function h(){var t=g(r);i.firstTabbableNode=t[0]||l(),i.lastTabbableNode=t[t.length-1]||l()}function b(t){t!==n.activeElement&&(t&&t.focus?(t.focus(),i.mostRecentlyFocusedNode=t,function(t){return t.tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select}(t)&&t.select()):b(l()))}};function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){S(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function N(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function D(t,e,n){return(D=N()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var a=new(Function.bind.apply(t,r));return n&&_(a,n.prototype),a}).apply(null,arguments)}function P(t){var e="function"==typeof Map?new Map:void 0;return(P=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return D(t,arguments,T(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_(r,t)})(t)}var I=Object.prototype.toString,C=function(t){if(void 0===t)return"undefined";if(null===t)return"null";var e=typeof t;if("boolean"===e)return"boolean";if("string"===e)return"string";if("number"===e)return"number";if("symbol"===e)return"symbol";if("function"===e)return"GeneratorFunction"===R(t)?"generatorfunction":"function";if(function(t){return Array.isArray?Array.isArray(t):t instanceof Array}(t))return"array";if(function(t){if(t.constructor&&"function"==typeof t.constructor.isBuffer)return t.constructor.isBuffer(t);return!1}(t))return"buffer";if(function(t){try{if("number"==typeof t.length&&"function"==typeof t.callee)return!0}catch(t){if(-1!==t.message.indexOf("callee"))return!0}return!1}(t))return"arguments";if(function(t){return t instanceof Date||"function"==typeof t.toDateString&&"function"==typeof t.getDate&&"function"==typeof t.setDate}(t))return"date";if(function(t){return t instanceof Error||"string"==typeof t.message&&t.constructor&&"number"==typeof t.constructor.stackTraceLimit}(t))return"error";if(function(t){return t instanceof RegExp||"string"==typeof t.flags&&"boolean"==typeof t.ignoreCase&&"boolean"==typeof t.multiline&&"boolean"==typeof t.global}(t))return"regexp";switch(R(t)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(t){return"function"==typeof t.throw&&"function"==typeof t.return&&"function"==typeof t.next}(t))return"generator";switch(e=I.call(t)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return e.slice(8,-1).toLowerCase().replace(/\s/g,"")};function R(t){return t.constructor?t.constructor.name:null}var L={any:function(t){return void 0!==t},arguments:function(t){return"arguments"===C(t)},array:function(t){return"array"===C(t)},boolean:function(t){return"boolean"===C(t)},buffer:function(t){return"buffer"===C(t)},date:function(t){return"date"===C(t)&&!isNaN(t)},error:function(t){return"error"===C(t)},float32array:function(t){return"float32array"===C(t)},float64array:function(t){return"float64array"===C(t)},function:function(t){return"function"===C(t)},generatorfunction:function(t){return"generatorfunction"===C(t)},int16array:function(t){return"int16array"===C(t)},int32array:function(t){return"int32array"===C(t)},int8array:function(t){return"int8array"===C(t)},map:function(t){return"map"===C(t)},null:function(t){return"null"===C(t)},number:function(t){return"number"===C(t)},object:function(t){return"object"===C(t)},promise:function(t){return"promise"===C(t)},regexp:function(t){return"regexp"===C(t)},set:function(t){return"set"===C(t)},string:function(t){return"string"===C(t)},symbol:function(t){return"symbol"===C(t)},uint16array:function(t){return"uint16array"===C(t)},uint32array:function(t){return"uint32array"===C(t)},uint8array:function(t){return"uint8array"===C(t)},uint8clampedarray:function(t){return"uint8clampedarray"===C(t)},undefined:function(t){return"undefined"===C(t)},weakmap:function(t){return"weakmap"===C(t)},weakset:function(t){return"weakset"===C(t)}},M="production"===process.env.NODE_ENV;function $(t,e){if(!t)throw M?new Error("Invariant failed"):new Error("Invariant failed: "+(e||""))}var z=function(t){var e,n;function r(e){var n;$(e.length>0,"StructError requires being passed a failure, but received: "+e);var a=e[0],i=a.path,o=a.value,u=a.type,c=a.branch,s=function(t,e){if(null==t)return{};var n,r,a={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(a,["path","value","type","branch"]),f="Expected a value of type `"+u+"`"+(i.length?" for `"+i.join(".")+"`":"")+" but received `"+JSON.stringify(o)+"`.";return(n=t.call(this,f)||this).type=u,n.value=o,Object.assign(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),s),n.path=i,n.branch=c,n.failures=e,n.stack=(new Error).stack,n.__proto__=r.prototype,n}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,r}(P(TypeError)),q=Symbol("STRUCT"),U=function(t){var e=t.struct.Error,n=function t(e){return t.assert(e)};return Object.defineProperty(n,q,{value:!0}),n.kind=t.kind,n.type=t.type,n.default=function(){return"function"==typeof t.defaults?t.defaults():t.defaults},n.test=function(t){return!n.check(t,[t],[])[0]},n.assert=function(t){var r=n.check(t,[t],[]),a=r[0],i=r[1];if(a)throw new e(a);return i},n.validate=function(t){var r=n.check(t,[t],[]),a=r[0],i=r[1];return a?[new e(a)]:[void 0,i]},n.check=function(t,e,r){return void 0===t&&(t=n.default()),[[n.fail({value:t,branch:e,path:r})]]},n.fail=function(t){return F({},t,{type:"type"in t?t.type:n.type})},n},V=function(t,e,n){if("function"==typeof(r=t)&&r[q])return t;var r;if(Array.isArray(t)){if(1===t.length){var a=t[0];return n.array([a],e)}if(t.length>1)return n.tuple(t,e)}if("function"==typeof t)return n.function(t,e);if("object"==typeof t)return n.object(t,e);if("string"==typeof t){var i,o=!1;if(t.endsWith("?")&&(o=!0,t=t.slice(0,-1)),t.includes("|")){var u=t.split(/\s*\|\s*/g);i=n.union(u,e)}else if(t.includes("&")){var c=t.split(/\s*&\s*/g);i=n.intersection(c,e)}else i=n.scalar(t,e);return o&&(i=n.union([i,"undefined"],void 0)),i}throw new Error("A schema definition must be an object, array, string or function, but you passed: "+t)},B=function(t,e,n){$(Array.isArray(t)&&0!==t.length,"Union structs must be defined as a non-empty array, but you passed: "+t);var r=t.map((function(t){return n(t)})),a=r.map((function(t){return t.type})).join(" | "),i=U({kind:"union",type:a,defaults:e,struct:n});return i.check=function(t,e,n){void 0===t&&(t=i.default());var a=r,o=Array.isArray(a),u=0;for(a=o?a:a[Symbol.iterator]();;){var c;if(o){if(u>=a.length)break;c=a[u++]}else{if((u=a.next()).done)break;c=u.value}var s=c.check(t,e,n),f=s[0],l=s[1];if(!f)return[void 0,l]}return[[i.fail({value:t,branch:e,path:n})]]},i},H=function(t){void 0===t&&(t={});var e=function t(e,n){return V(e,n,t)};return e.array=function(t,n){return function(t,e,n){$(Array.isArray(t)&&1===t.length,"Array structs must be defined as an array with one element, but you passed: "+t);var r=n(t[0],void 0),a=U({kind:"array",type:r.type+"[]",defaults:e,struct:n});return a.check=function(t,e,n){if(void 0===t&&(t=a.default()),!Array.isArray(t))return[[a.fail({value:t,branch:e,path:n})]];for(var i=[],o=[],u=0;u<t.length;u++){var c=t[u],s=r.check(c,e.concat(c),n.concat(u)),f=s[0],l=s[1];f?o.push.apply(o,f):i[u]=l}return o.length?[o]:[void 0,i]},a}(t,n,e)},e.dynamic=function(t,n){return function(t,e,n){$("function"==typeof t,"Dynamic structs must be defined as a function, but you passed: "+t);var r=U({kind:"dynamic",type:"dynamic<…>",defaults:e,struct:n});return r.check=function(e,n,a){return void 0===e&&(e=r.default()),t(e,n,a).check(e,n,a)},r}(t,n,e)},e.enum=function(t,n){return function(t,e,n){$(Array.isArray(t),"Enum structs must be defined as an array, but you passed: "+t);var r=n((function(e){return t.includes(e)}),e);return r.kind="enum",r.type=t.map((function(t){return"string"==typeof t?'"'+t+'"':""+t})).join(" | "),r}(t,n,e)},e.function=function(t,n){return function(t,e,n){var r=U({kind:"function",type:"function<…>",defaults:e,struct:n});return r.check=function(e,n,a){void 0===e&&(e=r.default());var i=t(e,n,a);if(!0===i)return[void 0,e];var o=[];if(!1===i)o.push(r.fail({value:e,branch:n,path:a}));else if(Array.isArray(i)&&i.length>0){var u=i,c=Array.isArray(u),s=0;for(u=c?u:u[Symbol.iterator]();;){var f;if(c){if(s>=u.length)break;f=u[s++]}else{if((s=u.next()).done)break;f=s.value}var l=f;o.push(r.fail(F({value:e,branch:n,path:a},l)))}}else"object"==typeof i?o.push(r.fail(F({value:e,branch:n,path:a},i))):$(!1,"Validator functions must return a boolean, a failure object, or an array of failure objects, but you passed: "+i);return[o]},r}(t,n,e)},e.instance=function(t,n){return function(t,e,n){$("function"==typeof t,"Instance structs must be defined as a function, but you passed: "+t);var r=n((function(e){return e instanceof t}),e);return r.kind="instance",r.type="instance<"+t.name+">",r}(t,n,e)},e.interface=function(t,n){return function(t,e,n){$("object"==typeof t,"Interface structs must be defined as an object, but you passed: "+t);var r={};for(var a in t)r[a]=n(t[a]);var i=U({kind:"interface",type:"interface<{"+Object.keys(t).join()+"}>",defaults:e,struct:n});return i.check=function(t,e,n){if(void 0===t&&(t=i.default()),"object"!=typeof t&&"function"!=typeof t)return[[i.fail({value:t,branch:e,path:n})]];var a=[];for(var o in r){var u=r[o],c=t[o],s=u.check(c,e.concat(c),n.concat(o))[0];s&&a.push.apply(a,s)}return a.length?[a]:[void 0,t]},i}(t,n,e)},e.intersection=function(t,n){return function(t,e,n){$(Array.isArray(t)&&0!==t.length,"Intersection structs must be defined as a non-empty array, but you passed: "+t);var r=t.map((function(t){return n(t)})),a=r.map((function(t){return t.type})).join(" & "),i=U({kind:"intersection",type:a,defaults:e,struct:n});return i.check=function(t,e,n){void 0===t&&(t=i.default());var a=t,o=r,u=Array.isArray(o),c=0;for(o=u?o:o[Symbol.iterator]();;){var s;if(u){if(c>=o.length)break;s=o[c++]}else{if((c=o.next()).done)break;s=c.value}var f=s.check(t,e,n),l=f[0],d=f[1];if(l)return[[i.fail({value:t,branch:e,path:n})]];a=d}return[void 0,a]},i}(t,n,e)},e.lazy=function(t,n){return function(t,e,n){$("function"==typeof t,"Lazy structs must be defined as a function, but you passed: "+t);var r=U({kind:"lazy",type:"lazy<…>",defaults:e,struct:n});return r.check=function(){return Object.assign(r,t()),r.check.apply(r,arguments)},r}(t,n,e)},e.literal=function(t,n){return function(t,e,n){var r=n((function(e){return e===t}),e);return r.kind="literal",r.type="string"==typeof t?'"'+t+'"':""+t,r}(t,n,e)},e.object=function(t,n){return function(t,e,n){$("object"==typeof t,"Object structs must be defined as an object, but you passed: "+t);var r={};for(var a in t)r[a]=n(t[a]);var i=U({kind:"object",type:"{"+Object.keys(t).join()+"}",defaults:e,struct:n});return i.check=function(t,e,n){void 0===t&&(t=i.default());var a=i.default();if(void 0===t&&(t=a),"object"!==C(t))return[[i.fail({value:t,branch:e,path:n})]];var o={},u=[],c=new Set(Object.keys(r).concat(Object.keys(t))),s=Array.isArray(c),f=0;for(c=s?c:c[Symbol.iterator]();;){var l;if(s){if(f>=c.length)break;l=c[f++]}else{if((f=c.next()).done)break;l=f.value}var d=l,p=t[d],v=n.concat(d),y=e.concat(p),h=r[d];if(void 0===p&&null!=a&&d in a&&(p="function"==typeof a[d]?a[d](t,e,n):a[d]),d in r){var b=h.check(p,y,v),m=b[0],g=b[1];m?u.push.apply(u,m):void 0!==g&&d in r&&(o[d]=g)}else u.push(i.fail({type:void 0,value:p,path:v,branch:t}))}return u.length?[u]:[void 0,o]},i}(t,n,e)},e.optional=function(t,n){return B([t,"undefined"],n,e)},e.partial=function(t,n){return function(t,e,n){$("object"==typeof t,"Partial structs must be defined as an object, but you passed: "+t);var r={};for(var a in t)r[a]=n.union([t[a],"undefined"]);var i=U({kind:"object",type:"{"+Object.keys(t).join()+"}",defaults:e,struct:n});return i.check=function(t,e,n){void 0===t&&(t=i.default());var a=i.default();if(void 0===t&&(t=a),"object"!==C(t))return[[i.fail({value:t,branch:e,path:n})]];var o={},u=[],c=t,s=Array.isArray(c),f=0;for(c=s?c:c[Symbol.iterator]();;){var l;if(s){if(f>=c.length)break;l=c[f++]}else{if((f=c.next()).done)break;l=f.value}var d=l,p=t[d],v=n.concat(d),y=e.concat(p),h=r[d];if(void 0===p&&null!=a&&d in a&&(p="function"==typeof a[d]?a[d](t,e,n):a[d]),d in r){var b=h.check(p,y,v),m=b[0],g=b[1];m?u.push.apply(u,m):void 0!==g&&d in r&&(o[d]=g)}else u.push(i.fail({type:void 0,value:p,path:v,branch:t}))}return u.length?[u]:[void 0,o]},i}(t,n,e)},e.pick=function(t,n){return function(t,e,n){$("object"==typeof t,"Pick structs must be defined as an object, but you passed: "+t);var r={};for(var a in t)r[a]=n(t[a]);var i=U({kind:"pick",type:"pick<{"+Object.keys(t).join()+"}>",defaults:e,struct:n});return i.check=function(t,e,n){void 0===t&&(t=i.default());var a=i.default();if(void 0===t&&(t=a),"object"!==C(t))return[[i.fail({value:t,branch:e,path:n})]];var o={},u=[];for(var c in r){var s=t[c],f=n.concat(c),l=e.concat(s),d=r[c];void 0===s&&null!=a&&c in a&&(s="function"==typeof a[c]?a[c](t,e,n):a[c]);var p=d.check(s,l,f),v=p[0],y=p[1];v?u.push.apply(u,v):void 0!==y&&c in r&&(o[c]=y)}return u.length?[u]:[void 0,o]},i}(t,n,e)},e.record=function(t,n){return function(t,e,n){$(Array.isArray(t)&&2===t.length,"Record structs must be defined as an array with two elements, but you passed: "+t);var r=n(t[0]),a=n(t[1]),i=U({kind:"record",type:"record<"+r.type+","+a.type+">",defaults:e,struct:n});return i.check=function(t,e,n){var o=i.default();if(t=o?F({},o,{},t):t,"object"!==C(t))return[[i.fail({value:t,branch:e,path:n})]];var u={},c=[];for(var s in t){var f=t[s],l=n.concat(s),d=e.concat(f),p=r.check(s,d,l),v=p[0],y=p[1];if(v)c.push.apply(c,v);else{var h=a.check(f,d,l),b=h[0],m=h[1];b?c.push.apply(c,b):u[y]=m}}return c.length?[c]:[void 0,u]},i}(t,n,e)},e.scalar=function(t,n){return function(t,e,n){$("string"==typeof t,"Scalar structs must be defined as a string, but you passed: "+t);var r=n.Types;$(t in r,'No struct validator function found for type "'+t+'".');var a=n(r[t],e);return a.kind="scalar",a.type=t,a}(t,n,e)},e.size=function(t,n){return function(t,e,n){$(Array.isArray(t)&&2===t.length&&t.every((function(t){return"number"==typeof t})),"Size structs must be defined as an array with two number elements, but you passed: "+t);var r=t[0],a=t[1],i=n((function(t){return null!=t&&"number"==typeof t.length&&t.length>=r&&t.length<=a}),e);return i.kind="size",i.type="size<"+r+","+a+">",i}(t,n,e)},e.tuple=function(t,n){return function(t,e,n){$(Array.isArray(t),"Tuple structs must be defined as an array, but you passed: "+t);var r=t.map((function(t){return n(t)})),a=U({kind:"tuple",type:"["+r.map((function(t){return t.type})).join()+"]",defaults:e,struct:n});return a.check=function(t,e,n){if(void 0===t&&(t=a.default()),!Array.isArray(t))return[[a.fail({value:t,branch:e,path:n})]];for(var i=[],o=[],u=Math.max(t.length,r.length),c=0;c<u;c++){var s=r[c],f=t[c],l=n.concat(c),d=e.concat(f);if(s){var p=s.check(f,d,l),v=p[0],y=p[1];v?o.push.apply(o,v):i[c]=y}else o.push(a.fail({type:void 0,value:f,path:l,branch:d}))}return o.length?[o]:[void 0,i]},a}(t,n,e)},e.union=function(t,n){return B(t,n,e)},e.Error=t.error||z,e.Types=F({},L,{},t.types),e}();const J={name:"FormContainer",props:{structSchema:{type:Object,required:!0}},data:function(){return{structModel:null,yupSchema:null,trap:null,isActive:!1,domForm:null}},mounted:function(){this.domForm=this.$refs.form,this.initStruct(),this.initTextAreas(),this.initFocusTrap()},methods:{initStruct:function(){this.structModel=H(this.structSchema)},initTextAreas:function(){var t=this;this.domForm.querySelectorAll("[data-autoresize]").forEach((function(e){e.style.boxSizing="border-box";var n=e.offsetHeight-e.clientHeight;t.domForm.addEventListener("input",(function(t){t.target.style.height="auto",t.target.style.height=t.target.scrollHeight+n+"px"})),e.removeAttribute("data-autoresize")}))},initFocusTrap:function(){this.trap=E(this.$refs.form,{clickOutsideDeactivates:!0})},trapFocus:function(){this.isActive||this.trap.activate(),this.isActive=!0},unTrapFocus:function(){this.isActive&&this.trap.deactivate(),this.isActive=!1},validateForm:function(){var t=this;return new Promise((function(n){var r=u(t.$refs.form,{hash:!0}),a=e(t.structModel.validate(r),2),i=a[0],o=a[1];if(i){var c=i.path,s=i.value;n({success:!1,data:{path:c,value:s,message:"Form Container --\x3e Validation error in ".concat(c[0],": ").concat(s)}})}n({success:!0,data:o})}))},displayValidationErrors:function(t,e){var n=this;if("input"===e){var r=t.path;this.domForm.querySelector("[data-validation-message=".concat(r,"]")).innerHTML=t.errors[0]}else t.errors.forEach((function(e,r){var a=t.inner[r].path;n.domForm.querySelector("[data-validation-message=".concat(a,"]")).innerHTML=e}))},clearValidationErrors:function(t){this.domForm.querySelector("[data-validation-message=".concat(t,"]")).innerHTML=""},toggleSubmitButton:function(t){this.domForm.querySelector("button[type=submit]").disabled=!t},submitForm:function(t){var e=this;t&&t.preventDefault(),this.validateForm().then((function(t){return e.$emit(t.success?"validated":"errored",t.data)}))}}};var W=function(){var t=this.$createElement;return(this._self._c||t)("form",{directives:[{name:"click-outside",rawName:"v-click-outside",value:this.unTrapFocus,expression:"unTrapFocus"}],ref:"form",on:{submit:this.submitForm,click:this.trapFocus,focus:this.trapFocus}},[this._t("default")],2)};W._withStripped=!0;const K=function(t,e,n,r,a,i,o,u,c,s){"boolean"!=typeof o&&(c=u,u=o,o=!1);const f="function"==typeof n?n.options:n;let l;if(t&&t.render&&(f.render=t.render,f.staticRenderFns=t.staticRenderFns,f._compiled=!0,a&&(f.functional=!0)),r&&(f._scopeId=r),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},f._ssrRegister=l):e&&(l=o?function(t){e.call(this,s(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,u(t))}),l)if(f.functional){const t=f.render;f.render=function(e,n){return l.call(n),t(e,n)}}else{const t=f.beforeCreate;f.beforeCreate=t?[].concat(t,l):[l]}return n}({render:W,staticRenderFns:[]},void 0,J,void 0,!1,void 0,!1,void 0,void 0,void 0);return{install:function(e,n){e.component("form-container",K),e.use(t)}}}));
